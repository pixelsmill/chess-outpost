<div class="play-content">
  <!-- Layout principal avec √©chiquier √† gauche et panneau √† droite -->
  <div class="play-layout">
    <!-- Section √©chiquier √† gauche -->
    <div class="board-section">
      <div class="game-board">
        <!-- √âchiquier avec background dynamique -->
        <app-board-wrapper [backgroundColor]="getBoardBackgroundColor()">
          <!-- Background classique -->
          @if (selectedBackground() === 'classic') {
          <app-classic-board [position]="currentPosition()"></app-classic-board>
          }

          <!-- Background heatmap -->
          @if (selectedBackground() === 'heatmap') {
          <app-heatmap-board [position]="currentPosition()"></app-heatmap-board>
          }

          <!-- Background topographique -->
          @if (selectedBackground() === 'topographic') {
          <app-topographic-board
            [position]="currentPosition()"
          ></app-topographic-board>
          }

          <!-- Grille de pi√®ces par-dessus -->
          <app-echiquier
            [externalPosition]="currentPosition()"
            [disableClicks]="false"
            (positionChange)="onPositionChange($event)"
          ></app-echiquier>
        </app-board-wrapper>
      </div>
    </div>

    <!-- Panneau vertical c√¥t√© droit -->
    <div class="side-panel">
      <div class="panel-content">
        <!-- Statut de la partie -->
        <div class="game-status-card">
          <h3>Statut de la partie</h3>
          <h2 [class.checkmate]="isGameOver" [class.check]="isCheck">
            {{ gameStatus }}
          </h2>
          <button (click)="resetGame()" class="reset-btn">
            Nouvelle partie
          </button>
        </div>

        <!-- S√©lecteur de type d'affichage -->
        <div class="background-selector-vertical">
          <h3>Type d'affichage</h3>
          <div class="bg-buttons">
            <button
              class="bg-btn-vertical"
              [class.active]="selectedBackground() === 'classic'"
              (click)="setBackground('classic')"
            >
              Classique
            </button>
            <button
              class="bg-btn-vertical"
              [class.active]="selectedBackground() === 'heatmap'"
              (click)="setBackground('heatmap')"
            >
              Territorial
            </button>
            <button
              class="bg-btn-vertical"
              [class.active]="selectedBackground() === 'topographic'"
              (click)="setBackground('topographic')"
            >
              Topographique
            </button>
          </div>
        </div>

        <!-- Contr√¥le de luminosit√© -->
        <div class="brightness-control">
          <h3>Luminosit√© de l'√©chiquier</h3>
          <div class="brightness-slider-container">
            <div class="brightness-labels">
              <span class="label-dark">üåë</span>
              <span class="brightness-value">{{ brightness() }}%</span>
              <span class="label-light">‚òÄÔ∏è</span>
            </div>
            <input
              type="range"
              min="0"
              max="100"
              [value]="brightness()"
              (input)="setBrightness($any($event.target).value)"
              class="brightness-slider"
            />
          </div>
        </div>

        <!-- Informations suppl√©mentaires -->
        <div class="game-info-card">
          <h3>Informations</h3>
          <div class="info-item">
            <span class="label">Mode</span>
            <span class="value">Jeu libre</span>
          </div>
          <div class="info-item">
            <span class="label">Difficult√©</span>
            <span class="value">Humain vs Humain</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
