<div class="chess-app">
  <!-- En-t锚te avec contr么les -->
  <div class="header">
    <h1> HotPawn - chiquier & Heatmap de Contr么le</h1>
    <div class="controls">
      <div class="game-status">
        <h2 [class.checkmate]="isGameOver" [class.check]="isCheck">
          {{ gameStatus }}
        </h2>
      </div>

      <button (click)="resetGame()" class="reset-btn">
         Nouvelle partie
      </button>
    </div>
  </div>

  <!-- Conteneur des 茅chiquiers c么te  c么te -->
  <div class="boards-container">
    <!-- chiquier de jeu -->
    <app-echiquier (positionChange)="onPositionChange($event)"></app-echiquier>

    <!-- Heatmap de contr么le -->
    <app-heatmap [position]="currentPosition()"></app-heatmap>
  </div>

  <!-- Panneau d'informations -->
  <div class="info-panel">
    <div class="legend">
      <h3> L茅gende du contr么le des cases</h3>
      <div class="legend-items">
        <div class="legend-item white-control">
          <div class="color-sample white"></div>
          <span>Contr么le blanc</span>
        </div>
        <div class="legend-item black-control">
          <div class="color-sample black"></div>
          <span>Contr么le noir</span>
        </div>
        <div class="legend-item contested">
          <div class="color-sample contested"></div>
          <span>Case contest茅e</span>
        </div>
      </div>
      <p class="legend-explanation">
        <strong>chiquier gauche :</strong> Jeu interactif classique.<br />
        <strong>Heatmap droite :</strong> Visualisation du contr么le des cases
        avec bordures color茅es et nombres (Blanc:Noir).
      </p>
    </div>

    <div class="game-info">
      <h3> Informations de la partie</h3>
      <div class="stats">
        <div class="stat">
          <strong>Position FEN :</strong>
          <code>{{ position }}</code>
        </div>
        <div class="stat">
          <strong>Nombre de coups :</strong>
          {{ moveCount }}
        </div>
        @if (selectedSquare) {
        <div class="stat">
          <strong>Case s茅lectionn茅e :</strong>
          {{ selectedSquare }}
        </div>
        }
      </div>
    </div>
  </div>
</div>
